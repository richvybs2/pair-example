<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="description" content="whatsapp bot pairing code." />
    <meta name="keywords" content="pair, whatsapp-bot" />
    <meta name="author" content="IRON-M4N" />
    <link rel="icon" href="https://cdn.ironman.my.id/u/uugBEhB.jpeg" type="image/jpeg" />
    <link rel="stylesheet" href="style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phone Pairing</title>
</head>
<body onload="playSound()">
    <div class="rain-container" id="rainContainer"></div>

    <div class="card">
        <h3>ğ‚ğˆğğ‡ğ„ğ‘-ğŒğƒ ğğ€ğˆğ‘ ğ‚ğğƒğ„</h3>
        <h2>Enter Phone Number</h2>
        <input type="text" id="phone" placeholder="Enter your phone example +2335574" />
        <a onclick="submit()">Submit</a>
        <div id="output"></div>
    </div>

    <footer>
        POWERED BY <span>HACKERPRO</span>
    </footer>

    <audio id="entranceSound" src="https://cdn.pixabay.com/audio/2022/10/31/audio_8cf225e1c1.mp3" preload="auto"></audio>
    <script>
        
        
        function cut(input) {
                return input.replace(/\D/g, "");
            }
            async function submit() {
                var inp = document.getElementById("phone").value;
                var trim = cut(inp);

                try {
                    var res = await fetch(`/pair?code=${trim}`);
                    var data = await res.json();

                    if (res.ok) {
                        document.getElementById("output").innerHTML = `
                        <p>Code: ${data.code}</p>
                        <button class="copy-btn" onclick="copyToClipboard('${data.code}')">Copy to Clipboard</button>
                        <p id="copy-confirm" class="copy-confirm" style="display: none;">Copied!</p>
                    `;
                    } else {
                        document.getElementById(
                            "output"
                        ).innerHTML = `<p>Error: fekd up</p>`;
                    }
                } catch (error) {
                    document.getElementById(
                        "output"
                    ).innerHTML = `<p>Error: ${error}</p>`;
                }
            }

            function copyToClipboard(text) {
                navigator.clipboard
                    .writeText(text)
                    .then(() => {
                        document.getElementById("copy-confirm").style.display =
                            "block";
                    })
                    .catch(err => {
                        alert(err);
                    });
            }
        
        
        function playSound() {
            const sound = document.getElementById("entranceSound");
            sound.volume = 0.5;
            sound.play();
        }

        // Create animated falling text repeatedly
        setInterval(() => {
            const container = document.getElementById("rainContainer");
            const el = document.createElement("div");
            el.className = "falling-text";
            el.innerText = "DEVELOPED BY CIPHERTECH";
            el.style.left = Math.random() * 100 + "vw";
            el.style.animationDuration = 3 + Math.random() * 3 + "s";
            el.style.opacity = 0.2 + Math.random() * 0.3;
            container.appendChild(el);
            setTimeout(() => el.remove(), 7000);
        }, 500);
    </script>
</body>
</html>
